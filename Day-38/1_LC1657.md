```cpp
#define vi vector<int>
class Solution {
public:
    bool closeStrings(string s1, string s2) {
        int n = s1.size();
        int n2 = s2.size();
        if(n!=n2) return false;
        vi f1(26,0), f2(26,0);
        for(int i=0; i<n; i++){
            f1[s1[i]-'a']++;
            f2[s2[i]-'a']++;
        }
        for(int i=0; i<26; i++){
            if((f1[i]==0 && f2[i]) || (f2[i]==0 && f1[i])) return false;
        }
        unordered_map<int,int> mp;
        for(int i=0; i<26; i++) mp[f1[i]]++;
        for(int i=0; i<26; i++) mp[f2[i]]--;
        for(auto [x,y]:mp){
            if(y!=0) return false;
        }
        return true;
    }
};
```