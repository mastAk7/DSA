```cpp
class Solution {
public:
    vector<vector<int>> generateMatrix(int n) {
        vector<vector<int>> f(n,vector<int>(n));
        int t = (n+1)/2;
        int c = 1;
        for(int i=0; i<t; i++){
            for(int j=i; j<n-i; j++){
                f[i][j] = c;
                c++;
            }
            if(i==t-1 && n%2==1) continue;
            for(int j=i+1; j<n-i-1; j++){
                f[j][n-i-1] = c;
                c++;
            }
            for(int j=n-i-1; j>=i; j--){
                f[n-i-1][j] = c;
                c++;
            }
            for(int j=n-i-2; j>i; j--){
                f[j][i] = c;
                c++;
            }
        }
        return f;
    }
};
```