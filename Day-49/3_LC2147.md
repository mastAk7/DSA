```cpp
#define ll long long
const ll mod = 1e9 + 7;
class Solution {
public:
    int numberOfWays(string corridor) {
        int n = corridor.size();
        ll cnt = 0;
        for(auto c:corridor) if(c=='S') cnt++;
        if(cnt<2 || cnt%2==1) return 0;

        ll ch = 0, ans = 1;
        for(int i=0; i<n; i++){
            char c = corridor[i];
            if(c=='S') ch++;
            else{
                if(ch>=2 && ch%2==0 && ch!=cnt){
                    int j = i;
                    ll pnt = 1;
                    while(corridor[j]=='P'){
                        j++;
                        pnt++;
                    }
                    ans = (ans%mod * pnt%mod)%mod;
                    i = j-1;
                }
            }
        }
        return ans;
    }
};
```